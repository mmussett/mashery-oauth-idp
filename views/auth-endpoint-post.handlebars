<div class="page-header">
<h2>{{title}}</h2>
</div>

<div class="panel panel-primary">
<div class="panel-heading">
<h3 class="panel-title">Authentication Confirmation</h3>
</div>
<div class="panel-body">
{{#if error}}

<div class="alert alert-danger" role="alert">The 

  {{#if authCode}}
    createAuthorizationCode
  {{else}}
    createAccessToken
  {{/if}}
 API call to the Mashery Platform API failed with: <b>{{error}}</b></div>

{{else}}

<p>Hello <b>{{username}}</b>. You have successfully logged in and confirmed access for the application <b>{{appName}}</b>.</p>

<p>Typically, at this point, the OAuth server will automatically do a 302 redirect back to the server. However, for the purpose of demonstration, the redirection is manual and requires you to click on the button below.
</p>

<p><a class="btn btn-primary" href="{{redirectUri}}">Redirect back to the app</a>
</p>

{{/if}}



</div>
</div>


<!-- 
This section is here only for providing helpful hints around
understanding how to create an OAuth Server
-->

<div class="panel panel-default">
<div class="panel-heading">
<h3 class="panel-title"><a data-toggle="collapse" href="#helpfulHints" aria-expanded="false" aria-controls="helpfulHints">Helpful Hints</a></h3>
</div>
<div class="panel-body collapse" id="helpfulHints">
After the user has authenticated, there are two possible paths, depending on the
grant type that is used.
<ul>
	<li><b>Authorization Code Grant</b> - Typically an automatic 302 redirect is done to the redirect_uri and includes the authorization code. Mashery automatically encapsulates the full redirect_uri required and this can be simply passed back to the client application. The client application then would be required to call the OAuth token endpoint to exchange the authorization code for an access token after authenticating itself.</li>
	<li><b>Implicit Grant</b> - The implicit grant was designed for JavaScript client and, can be seen as an insecure grant type. The client application is not necessarily authenticated. With implicit, the access token is immediately provided in the 302 redirect_uri.</li>
</ul>

<div>The following values were returned from the Mashery Platform API:
<ul>
{{#if authCode}}
<li><b>code</b>: {{code}}</li>
<li><b>redirect_uri</b>: {{redirectUri}}</li>
{{else}}
<li><b>access_token</b>: {{accessToken}}</li>
<li><b>token_type</b>: {{tokenType}}</li>
<li><b>expiresIn</b>: {{expiresIn}}</li>
<li><b>Redirect URI</b>: {{redirectUri}} (The Redirect URI is not returned by Mashery, but must be generated by the server)</li>
{{/if}}
</ul>
</div>

<div>
For more details on the createAuthorizationCode Mashery Platform API method called, <a href="http://support.mashery.com/docs/read/mashery_api/20/oauth_supporting_methods/methods/createAuthorizationCode">click here</a> for more information.
</div>

<div>
For more details on the createAccesstoken Mashery Platform API method called, <a href="http://support.mashery.com/docs/read/mashery_api/20/oauth_supporting_methods/methods/createAccessToken">click here</a> for more information.
</div>

</div>
</div>

